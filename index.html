<!DOCTYPE html>
<html>
<head>
    <title>Rock Paper Scissors</title>
    <meta charset="UTF-8" />
</head>
    <body>
        <script>
            let wins = 0;
            let losses = 0;
            let totalGames;

            /* generates a number 0 - 2 to choose rock, paper, or scissors for computer */
            function computerPlay(){
                let randNum = Math.floor(Math.random() * 3);
                let computerChoice;
                switch (randNum) {
                    case 0:
                    computerChoice = "rock";
                    break;
                    case 1:
                    computerChoice =  "paper";
                    break;
                    case 2: 
                    computerChoice =  "scissors";
                    break;
                }
                return computerChoice;
                
            }

            function playRound(playerSelection, computerSelection) {
                /* compares playerSelection and computerSelection to set the result */
                playerSelection = playerSelection.toLowerCase();
                let result;
                if (playerSelection === "rock") {
                    if (computerSelection === "rock") {
                        result = "tie";
                    }
                    else if (computerSelection === "paper") {
                        result = "lose";
                    }
                    else if (computerSelection === "scissors") {
                        result = "win";
                    }
                }
                else if (playerSelection === "paper") {
                    if (computerSelection === "rock") {
                        result = "win";
                    }
                    else if (computerSelection === "paper") {
                        result = "tie";
                    }
                    else if (computerSelection === "scissors") {
                        result = "lose";
                    }
                }
                else if (playerSelection === "scissors") {
                    if (computerSelection === "rock") {
                        result = "lose";
                    }
                    else if (computerSelection === "paper") {
                        result = "win";
                    }
                    else if (computerSelection === "scissors") {
                        result = "tie";
                    }
                }

                /* sets message differently based on result, and increments wins and losses*/

                let message;
                switch (result) {
                    case "win":
                    message = "You win! " + playerSelection + " beats " + computerSelection;
                    wins++;
                    break;
                    case "lose":
                    message = "You lose! " + playerSelection + " loses to " + computerSelection;
                    losses++;
                    break;
                    case "tie":
                    message = "You tie! " + playerSelection + " ties with " + computerSelection;
                    break;
                }

                return message;

            }

            function game() {
                /* asks for playerChoice and then acquires round result by calling playRound */
                let playerChoice = window.prompt("Choose Rock, Paper, or Scissors");
                let roundResult = playRound(playerChoice, computerPlay());
                console.log(roundResult);
                totalGames = wins + losses;
            }

            for (totalGames = 0; totalGames < 5;) {
                /* loops the game function until wins and losses total 5 */
                game();
            }

            if (wins > losses) {
                console.log("You won the best out of 5!");
            }
            else {
                console.log("You lost the best out of 5.");
            }
            
        </script>
    </body>
    </html>